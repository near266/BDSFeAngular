<div class="container">
  <div class="grid p-3">
    <div class="col-12 md:col-4">
      <div class="p-inputgroup">
        <span class="p-inputgroup-addon">Khu vực</span>
        <input type="text" pInputText [(ngModel)]="RequestSearch.name" />
      </div>
    </div>
    <div class="col-12 md:col-6">
      <div class="p-inputgroup">
        <span class="p-inputgroup-addon">Tên khu đất</span>
        <input type="text" pInputText [(ngModel)]="RequestGetList.name" />
      </div>
    </div>
    <div class="col-12 md:col-2">
      <button pButton label="Tìm kiếm" icon="pi pi-search" (click)="search()"></button>
    </div>
  </div>
  <div class="grid p-3">
    <div class="col-12 md:col-10">
      <div class="grid align-items-end">
        <h2>Danh sách khu đất</h2>
        <span class="mb-4 ml-4">({{totalRecord}} khu đất)</span>
      </div>
    </div>
    <div class="col-12 md:col-2">

    <button pButton label="Thêm mới" icon="pi pi-plus" (click)="ShowModel(1);getAllDistrict()" ></button>
    </div>
  </div>
  <div class="grid p-3">
    <div class=" col-12 md:col-10">
      <div class="mb-2" style="display: inline-block;">
        <span> Đã chọn :</span>
      </div>
      <button class="ml-2 mr-2 p-button-outlined text-[#FFB43F] p-button-secondary" pButton label="Xóa tất cả"
        icon="pi pi-times"></button>
      <button pButton label="Hủy chọn" class="p-button-outlined  p-button-secondary"></button>
    </div>



  </div>
  <div class="p-3" style="overflow: auto;">
    <p-table [value]="data" [(selection)]="dataSelection" dataKey="id">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 4rem">
            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
          </th>
          <th>STT</th>
          <th class="text-center">Tên khu đất</th>
          <th class="text-center">Khu vực</th>
          <th class="text-center">Độ ưu tiên</th>
          <th class="text-center">Người đăng</th>
          <th class="text-center">Created Date</th>
          <th class="text-center">Last Updated</th>
          <th class="text-center">Thao tác</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product let-index="rowIndex">
        <tr>
          <td>
            <p-tableCheckbox [value]="product"></p-tableCheckbox>
          </td>
          <td>{{index + 1 + ((RequestGetList.page - 1) * RequestGetList.pageSize)}}</td>
          <td>{{product.name}}</td>
          <td class="text-center">{{product.district.name}}</td>
          <td class="text-center">{{product.order}}</td>
          <td class="text-center">{{product.createdBy}}</td>
          <td class="text-center">{{product.createdDate | date: 'dd/MM/yyyy' }}</td>
          <td class="text-center">{{product.lastModifiedDate | date: 'dd/MM/yyyy' }}</td>
          <td class="text-center">
            <button pButton icon="pi pi-times" pTooltip="Xóa" class="p-button-sm p-button-danger p-button-outlined mr-2"
              (click)="delete(product.id)"></button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td [attr.colspan]="9" class="text-center">
            <span>Không có dữ liệu</span>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div class="grid p-3">
    <p-paginator [rows]="RequestGetList.pageSize" [totalRecords]="totalRecord" [rowsPerPageOptions]="[10,20,30]"
      [showCurrentPageReport]="true" (onPageChange)="paginate($event)" #paginator [hidden]="totalRecord < 10"
      currentPageReportTemplate="{currentPage} of {totalPages}"></p-paginator>
  </div>
</div>
<p-dialog [(visible)]="IsShowDialog" [modal]="true">
  <ng-template pTemplate="header">
    <div>
      <i class="pi pi-plus-circle" style="color: slateblue"></i>
      <span class="justify-items-start">THÊM MỚI KHU ĐẤT</span>
    </div>

  </ng-template>
  <ng-template pTemplate="body">
    <div class="mt-2">
      <label class="ml-4 " style="font-weight: 500;font-family: Roboto;">Tên khu đất</label>
      <input pInputText type="text"[(ngModel)]="AddRequest.name" placeholder="Nhập tên khu đất" style="width: 100%;" />
    </div>
    <div class="mt-2">
      <label class="ml-4" style="font-weight: 500;font-family: Roboto;">Khu vực</label>
      <p-dropdown [options]="ListDist" [(ngModel)]="AddRequest.districtId" optionLabel="name" optionValue="id"></p-dropdown>
    </div>
    <div class="mt-2">
      <label class="ml-4 " style="font-weight: 500;font-family: Roboto;">Độ ưu tiên</label>
      <input pInputText type="text" [(ngModel)]="AddRequest.order" placeholder="Nhập vị trí" style="width: 100%;" />
    </div>



    <div class="mt-4" style="display: flex; justify-content: end;">
      <button pButton label="Hủy bỏ" class="p-button-outlined  p-button-secondary"(click)="ShowModel(2)" style="color: rgba(80, 80, 80, 1);"
        styleClass="p-button-sm"></button>
      <button pButton label="Thêm mới" (click)="AddSLot()" class=" ml-3" style="color:rgba(255, 255, 255, 1);"
        styleClass="p-button-sm"></button>
    </div>
  </ng-template>

</p-dialog>